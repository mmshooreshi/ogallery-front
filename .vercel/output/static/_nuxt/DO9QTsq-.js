import{I as L}from"./fi_wq89I.js";import{_ as O}from"./DymzB9dK.js";import{f as U,u as E,z as x,A as _,r as M,k as G,c as u,o as d,a as t,b as i,m as n,e as f,t as r,w as p,d as h,T as R,F as V,v as B}from"#entry";import{u as C,q as D}from"./C6Upjwda.js";import{_ as F}from"./DlAUqK2U.js";const H={class:"home"},P={class:"hero"},Y={class:"hero__content"},$={key:0,class:"hero__artist"},q={class:"hero__title"},j={key:1,class:"hero__dates"},z={key:0,class:"cookie"},J={class:"cookie__actions"},K={class:"news"},Q={class:"news__text"},W={class:"news__title"},X={class:"news__date"},Z={class:"news__teaser"},ee={class:"foot"},te=U({__name:"index",async setup(se){let o,g;E({title:"Home"});const{data:I}=([o,g]=x(()=>C("exhibitions",()=>D("exhibitions").all())),o=await o,g(),o),{data:S}=([o,g]=x(()=>C("news",()=>D("news").all())),o=await o,g(),o),m=_(()=>{const s=(I.value??[]).slice();return s.sort((e,a)=>String(a?.startDate||"").localeCompare(String(e?.startDate||""))),s.find(e=>e?.status==="current")||s[0]}),b=_(()=>m.value?.images?.[0]||"/images/placeholder-hero.jpg"),A=_(()=>m.value?.title||""),v=_(()=>(m.value?.artists?.[0]||"").toUpperCase()),w=_(()=>{const s=m.value?.startDate||"",e=m.value?.endDate||"";return s&&e?`${y(s)} – ${y(e)}`:s||e||""}),N=_(()=>{const s=(S.value??[]).slice();return s.sort((e,a)=>String(a?.date||"").localeCompare(String(e?.date||""))),s.slice(0,6)}),k=M(!1);G(()=>{k.value=!localStorage.getItem("cookie-accepted")});function T(){localStorage.setItem("cookie-accepted","1"),k.value=!1}function y(s){const[e,a,c]=s.split("-").map(Number);return new Date(Date.UTC(e,(a||1)-1,c||1)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}).toUpperCase()}return(s,e)=>{const a=L,c=O;return d(),u("main",H,[t("section",P,[i(a,{src:n(b)||"/images/ph-hero.svg",class:"hero__img",alt:""},null,8,["src"]),e[1]||(e[1]=t("div",{class:"hero__overlay"},null,-1)),t("div",Y,[n(v)?(d(),u("p",$,r(n(v)),1)):f("",!0),t("h1",q,[t("span",null,r(n(A)),1)]),n(w)?(d(),u("p",j,r(n(w)),1)):f("",!0),e[0]||(e[0]=t("div",{class:"hero__bar"},null,-1))])]),i(R,{name:"fade"},{default:p(()=>[n(k)?(d(),u("div",z,[e[3]||(e[3]=t("h3",{class:"cookie__title"},"This website uses cookies",-1)),e[4]||(e[4]=t("p",{class:"cookie__text"}," This site uses cookies to help make it more useful to you. Please contact us to find out more about our Cookie Policy. ",-1)),t("div",J,[i(c,{to:"/cookies",class:"link"},{default:p(()=>[...e[2]||(e[2]=[h("Manage cookies",-1)])]),_:1}),t("button",{onClick:T,class:"btn"},"Accept")])])):f("",!0)]),_:1}),t("section",K,[(d(!0),u(V,null,B(n(N),l=>(d(),u("article",{key:l.slug,class:"news__item"},[t("div",Q,[t("h2",W,r(l.title),1),t("p",X,r(new Date(l.date||"").toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})),1),t("p",Z,r(l.teaser||""),1),i(c,{to:`/news/${l.slug}`,class:"link"},{default:p(()=>[...e[5]||(e[5]=[h("Read More",-1)])]),_:1},8,["to"])]),i(a,{src:l.coverImage||"/images/ph-thumb.svg",class:"news__image",alt:""},null,8,["src"])]))),128))]),t("footer",ee,[t("div",null,"COPYRIGHT © "+r(new Date().getFullYear())+" OGALLERY",1),i(c,{to:"/mailing-list",class:"link"},{default:p(()=>[...e[6]||(e[6]=[h("JOIN OUR MAILING LIST",-1)])]),_:1}),i(c,{to:"/cookies",class:"link"},{default:p(()=>[...e[7]||(e[7]=[h("MANAGE COOKIES",-1)])]),_:1})])])}}}),re=F(te,[["__scopeId","data-v-27d80ddb"]]);export{re as default};
