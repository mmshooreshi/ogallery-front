import{_ as N}from"./DymzB9dK.js";import{I as $}from"./fi_wq89I.js";import{f as B,z as I,u as L,E as V,A as d,c as a,a as n,e as b,s as U,P as p,m as l,b as q,w as c,n as w,F as h,v as C,o,d as k,H as S,t as A}from"#entry";import{u as j,q as z}from"./C6Upjwda.js";const D={class:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between"},E=["value"],F={key:0,class:"flex flex-wrap gap-2 mb-6 text-sm"},H={key:1,class:"grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},P={class:"font-medium group-hover:underline"},R={key:2,class:"opacity-70"},J=B({__name:"index",async setup(M){let i,g;const{data:f}=([i,g]=I(()=>j("artists",()=>z("artists").all())),i=await i,g(),i);L({title:"Artists"});const y=V(),_=d(()=>String(y.query.q??"").trim().toLowerCase()),u=d(()=>String(y.query.letter??"").trim().toUpperCase()),x=d(()=>{const e=(f.value??[]).slice();e.sort((r,m)=>(r?.sortIndex??1e9)-(m?.sortIndex??1e9)||String(r?.name||"").localeCompare(m?.name||""));const t=_.value?e.filter(r=>String(r?.name||"").toLowerCase().includes(_.value)):e;return u.value?t.filter(r=>String(r?.name||"").toUpperCase().startsWith(u.value)):t}),v=d(()=>{const e=new Set((f.value??[]).map(t=>String(t?.name||"").charAt(0).toUpperCase()).filter(Boolean));return Array.from(e).sort()});return(e,t)=>{const r=N,m=$;return o(),a("section",null,[n("header",D,[t[2]||(t[2]=n("h1",{class:"text-2xl font-semibold"},"Artists",-1)),n("form",{class:"flex gap-2 items-center",onSubmit:t[0]||(t[0]=U(s=>e.$router.replace({query:{...(e._.provides[p]||e.$route).query,q:s.target.q.value||void 0}}),["prevent"]))},[n("input",{name:"q",value:(e._.provides[p]||e.$route).query.q||"",placeholder:"Search artistsâ€¦",class:"border rounded px-3 py-2 text-sm w-56"},null,8,E),t[1]||(t[1]=n("button",{class:"border rounded px-3 py-2 text-sm"},"Search",-1))],32)]),l(v).length?(o(),a("nav",F,[q(r,{class:w(["px-2 py-1 border rounded",{"bg-black text-white":!l(u)}]),to:{query:{...(e._.provides[p]||e.$route).query,letter:void 0}}},{default:c(()=>[...t[3]||(t[3]=[k("All",-1)])]),_:1},8,["class","to"]),(o(!0),a(h,null,C(l(v),s=>(o(),S(r,{key:s,class:w(["px-2 py-1 border rounded",{"bg-black text-white":l(u)===s}]),to:{query:{...(e._.provides[p]||e.$route).query,letter:s}}},{default:c(()=>[k(A(s),1)]),_:2},1032,["class","to"]))),128))])):b("",!0),l(x).length?(o(),a("ul",H,[(o(!0),a(h,null,C(l(x),s=>(o(),a("li",{key:s.slug,class:"flex items-center gap-3"},[q(r,{to:`/artists/${s.slug}`,class:"group flex items-center gap-3"},{default:c(()=>[s.image?(o(),S(m,{key:0,src:s.image,width:"64",height:"64",class:"rounded-full object-cover",alt:s.name},null,8,["src","alt"])):b("",!0),n("span",P,A(s.name),1)]),_:2},1032,["to"])]))),128))])):(o(),a("p",R,"No artists found."))])}}});export{J as default};
